services:
  sms_provider:
    alias: sms_provider.default
  sms_provider.default:
    class: Drupal\sms\Provider\DefaultSmsProvider
    arguments: ['@event_dispatcher']
  plugin.manager.sms_gateway:
    class: Drupal\sms\Plugin\SmsGatewayPluginManager
    arguments: ['@container.namespaces', '@cache.discovery', '@module_handler']
  sms.phone_number:
    class: Drupal\sms\Provider\PhoneNumberProvider
    arguments: ['@entity_type.manager', '@config.factory', '@token', '@sms_provider']
  sms.queue:
    class: Drupal\sms\Provider\SmsQueueProcessor
    arguments: ['@entity_type.manager', '@queue', '@sms_provider']
  sms.sms_message_processor:
    class: Drupal\sms\EventSubscriber\SmsMessageProcessor
    arguments: ['@event_dispatcher', '@config.factory']
    tags:
      - { name: event_subscriber }
