services:
  sms_provider:
    alias: sms_provider.default
  sms_provider.default:
    class: Drupal\sms\Provider\DefaultSmsProvider
    arguments: ['@config.factory', '@module_handler']
  plugin.manager.sms_gateway:
    class: Drupal\sms\Plugin\SmsGatewayPluginManager
    arguments: ['@container.namespaces', '@cache.discovery', '@module_handler']
  sms.route_subscriber:
    class: Drupal\sms\Routing\RouteSubscriber
    arguments: ['@entity.manager', '@entity.phone_number']
    tags:
      - { name: event_subscriber }
  entity.phone_number:
    class: Drupal\sms\EntityPhoneNumberProvider
    arguments: ['@entity_field.manager']
  access_check.sms.entity_is_phone_number_bundle:
    class: Drupal\sms\Access\EntityIsPhoneNumberBundleCheck
    arguments: ['@entity.phone_number']
    tags:
      - { name: access_check, applies_to: _entity_is_phone_number_bundle }